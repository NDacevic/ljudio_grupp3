<template>
  <div class="homeContainer">
    <Share v-if="shareRendered" :track="track" @hide-share="hideShare" />
    <div class="leftBar">
      <LeftMenu />
    </div>
    <div class="centerContent">
      <AddPlaylist v-if="this.$store.getters.getcreatePlaylistBool === true"/>
      <Search v-if="renderCenterComponent === 'search'" />
      <AlbumContent v-if="renderCenterComponent === 'album'" />
      <ArtistContent v-if="renderCenterComponent === 'artist'" />
      <PlaylistContent v-if="renderCenterComponent === 'playlist'" />
      <div id="yt-player" style="display:none"></div>
    </div>
    <section class="rightBar">
      <div class="rightBarTop">
        <Queue />
      </div>
      <div class="rightBarBottom">
        <Playlists />
        <!-- Komponent 4 -->
      </div>
    </section>
    <div class="bottomBar">
      <Player />
      <!-- Komponent 5 -->
    </div>
  </div>
</template>

<script>
import LeftMenu from "../components/LeftMenu";
import Search from "../components/Search";
import Playlists from "../components/Playlists";
import Player from "../components/Player";
import Queue from "../components/Queue";
import AddPlaylist from "../components/AddPlaylist"
import AlbumContent from "../components/AlbumContent";
import ArtistContent from "../components/ArtistContent";
import PlaylistContent from "../components/PlaylistContent";
import Share from "../components/ShareComponent";

export default {
  name: "Home",
  components: {
    LeftMenu,
    Search,
    Playlists,
    Player,
    Queue,
    AlbumContent,
    ArtistContent,
    PlaylistContent,
    AddPlaylist,
    Share,
  },
  data() {
    return {
      track: {},
      shareRendered: false,
    };
  },
  computed: {
    renderCenterComponent() {
      return this.$store.getters.getCenterComponentForHome;
    },
  },
    beforeMount(){
    this.$store.dispatch("getNewNotifications");
  },
  methods: {
    renderShare(track, show) {
      this.track = track;
      this.shareRendered = show;
    },
    hideShare() {
      this.shareRendered = false;
    },
  },
};
</script>

<style scoped>
.homeContainer {
  display: grid;
  grid-template-columns: 200px auto 400px;
  grid-template-rows: 40vh 40vh auto;
  height: 100%;
}

.leftBar {
  /* @TODO: Remove all colors */
  background-color: rgb(4, 97, 179);
  grid-row: 1 / span 2;
}

.centerContent {
  display: flex;
  background-color: rgb(0, 0, 0);
  grid-row: 1 / span 2;
}

.rightBarTop {
  display: flex;
  background-color: rgb(0, 0, 0);
  grid-row: 1;
}

.rightBarBottom {
  grid-row: 2;
}
</style>
